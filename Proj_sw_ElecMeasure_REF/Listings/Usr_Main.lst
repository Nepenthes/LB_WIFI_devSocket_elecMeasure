C51 COMPILER V9.54   USR_MAIN                                                              08/24/2018 15:54:59 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE USR_MAIN
OBJECT MODULE PLACED IN .\Output\Usr_Main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Usr\Usr_Main.c OMF2 ROM(COMPACT) OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Proj
                    -_sw_ElecMeasure;.\Usr;.\Usr_lib;.\std_Lib;.\hwDriver;.\dataTrans) DEBUG PRINT(.\Listings\Usr_Main.lst) OBJECT(.\Output\U
                    -sr_Main.obj)

line level    source

   1          #include "STC15Fxxxx.H"
   2          
   3          #include "HW8012.h"
   4          #include "appTimer.h"
   5          #include "wifi_LPT220.h"
   6          #include "dataTrans.h"
   7          #include "Relay.h"
   8          #include "HYM8564.h"
   9          #include "dataManage.h"
  10          #include "timerAct.h"
  11          #include "usrKin.h"
  12          
  13          #include "soft_uart.h"
  14          #include "delay.h" 
  15          
  16          #include "Tips.h"
  17          
  18          void usr_Test(void){
  19   1      
  20   1      //      P33 =! P33;
  21   1      //      delayMs(500);
  22   1              
  23   1      //      if(!P24)P25 = 1;else P25 = 0;
  24   1      //      HYM8564_Test();
  25   1              
  26   1              beeps(7);
  27   1      //      P32 = !P32;
  28   1      //      delayMs(1);
  29   1      }
  30          
  31          void bsp_Init(void){
  32   1              
  33   1              MAC_ID_Relaes           ();
  34   1      
  35   1              appTimer0_Init          ();
  36   1              intMeasure_Init         ();
  37   1              
  38   1              iicHYM8564_pinInit      ();
  39   1              pinLed_Init                     ();
  40   1              pinBeep_Init            ();
  41   1              WIFI_pinInit            ();     
  42   1              usrKin_pinInit          ();
  43   1              
  44   1              uartObjWIFI_Init        ();
  45   1              
  46   1              relay_pinInit           ();
  47   1              
  48   1              AUXR    &= 0xfd;
  49   1              EA              =  1;
  50   1              
  51   1      //      while(1)usr_Test();
  52   1              
  53   1              dev_ledTips = ledMode_init;
C51 COMPILER V9.54   USR_MAIN                                                              08/24/2018 15:54:59 PAGE 2   

  54   1              dev_segTips = segMode_init;
  55   1              
  56   1              while(!WIFI_configInit ());
  57   1      }
  58          
  59          int main(void){
  60   1              
  61   1      //      WIFI_pinInit            ();     
  62   1      //      uartObjWIFI_Init        ();
  63   1      //      
  64   1      //      while(1){
  65   1      //      
  66   1      //              WIFI_funcPIN_nReload = WIFI_pinDISEN;
  67   1      //              WIFI_funcPIN_nRst       = WIFI_pinEN;   //硬件复位一次
  68   1      //              delayMs(100);
  69   1      //              WIFI_funcPIN_nRst       = WIFI_pinDISEN;
  70   1      //              delayMs(3000);
  71   1      
  72   1      ////            while(WIFI_tipsPIN_nReady)delayMs(100);
  73   1      //              
  74   1      //              WIFI_funcPIN_nReload = WIFI_pinEN;
  75   1      //              delayMs(1000);
  76   1      //              WIFI_funcPIN_nReload = WIFI_pinDISEN;
  77   1      ////            delayMs(10000);
  78   1      //              
  79   1      //              uartObjWIFI_Send_Byte('+');
  80   1      //              delayMs(200);
  81   1      //              uartObjWIFI_Send_Byte('+');
  82   1      //              delayMs(200);
  83   1      //              uartObjWIFI_Send_Byte('+');
  84   1      //              delayMs(200);
  85   1      //              uartObjWIFI_Send_Byte('+');
  86   1      //              delayMs(200);
  87   1      //              uartObjWIFI_Send_Byte('+');
  88   1      //              delayMs(200);
  89   1      //              uartObjWIFI_Send_Byte('+');
  90   1      //              delayMs(200);
  91   1      //              uartObjWIFI_Send_Byte('+');
  92   1      //              delayMs(200);
  93   1      //              uartObjWIFI_Send_Byte('+');
  94   1      //              delayMs(200);
  95   1      //      }
  96   1      
  97   1              birthDay_Judge();
  98   1              bsp_Init();
  99   1              dev_segTips = segMode_initCmp;
 100   1              dev_ledTips = ledMode_relayOpenIF;
 101   1              beeps(10);
 102   1              
 103   1              while(1){
 104   2                      
 105   2                      thread_Timing();
 106   2                      thread_Relay();
 107   2                      
 108   2      #if(TEST_LOG == 1)
                              elecParamLog_thread();
              #else
 111   2                      thread_dataTrans();
 112   2                      thread_LocalStaus_Release();
 113   2      #endif
 114   2                      UsrKEYScan(fun_kShort, fun_kLongA, fun_kLongB);
 115   2              }
C51 COMPILER V9.54   USR_MAIN                                                              08/24/2018 15:54:59 PAGE 3   

 116   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    110    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
